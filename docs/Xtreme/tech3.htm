<!DOCTYPE html>
<html lang="he">

<head>
<meta charset="UTF-8">
<title> קודגורו אקסטרים - כתוב שורד</title>
<meta name="keywords" content="competition, computers, hebrew, תחרות, תחרות מחשבים, פרסים, מתמטיקה, וויצמן, ויצמן, מכון ויצמן, מכון וויצמן, המרכז הבינתחומי, בינתחומי, צמ&quot;ד, חינם">
<meta name="description" content="תחרות המחשבים והמתמטיקה המובילה בישראל לצעירים. קחו חלק באתגר וזכו בפרסים יקרי ערך.">
<link rel="stylesheet" href="cgx.css" type="text/css">




<script src="js/google_analytics.js"></script>
</head>
<body>

<div align="center">
<div class="pagebox">

<div class="top">
<br>


<div id="navcontainer">
<ul id="navlist">
<li><a href="/CS/forums/5/ShowForum.aspx">הפורום</a></li>
<li><a href="media.htm">בתקשורת</a></li>
<li><a href="archive.htm">ארכיון</a></li>
<li><a href="tech.htm">המדריך</a></li>
<li><a href="about.htm">על התחרות</a></li>
</ul>
</div>

</div>




<div class="tohen">

<h1 class="bodtite">לפני הכל!</h1>
<p>עמוד זה מפרט את הכללים הטכניים הבסיסיים לכתיבת השורד שלכם.</p>
<p>ההוראות נכתבו תוך הנחה שהקורא הוא בעל ידע בסיסי בתכנות אסמבלי. בניגוד לדעה המקובלת, אסמבלי אינה שפה קשה במיוחד ללמידה וניתן למצוא לה אינספור מדריכים במנועי החיפוש באינטרנט. אפשרות נוספת היא ללמוד דרך הסתכלות על <a href="tech2.htm">קוד שורדי הדוגמא</a>. </p>

<h1 class="bodtite">כתיבת השורדים שלכם</h1>
<p>שורד cgx הוא למעשה תוכנית אסמבלי מקומפלת. 
שם השורד המשתתף בתחרות נקבע עפ"י שם הקובץ (ללא הסיומת, כמובן).</p>

<p>על קוד השורד להכיל אך ורק אופקודים הנתמכים ע"י מעבד 8086, ולהשתמש בפקודות 16 ביט בלבד. לאחר כתיבת השורד באסמבלי, יש לקמפל אותו כקובץ com, ולהעתיק אותו לספריה survivors תחת ספרית מנוע המשחק (על מנת שהמנוע ידע לזהות אותו בתור שורד חוקי). מומלץ (אך לא חובה) לשנות את סיומת הקובץ מ-com לסיומת ריקה.</p>

<p>בדומה ל<a href="http://en.wikipedia.org/wiki/COM_file">קובץ com רגיל</a>, קובץ השורד מכיל את הקוד הסופי בדיוק כפי שיטען לזיכרון ויורץ ע"י מנוע המשחק. יחד עם זאת, בשונה מקובץ com, השורדים אינם יכולים להניח טעינה לכתובות קבועות, כיוון שמנוע המשחק טוען אותם בכל סיבוב לכתובת אקראית. שימו לב: טעות נפוצה היא לקמפל את קוד השורד לקובץ exe, ולנסות לטעון אותו למשחק כך. כיוון שקובץ exe מכיל header בנוסף לקוד עצמו, הרצת שורד שנבנה מקובץ כזה תגרום לתוצאות שגויות ובלתי צפויות.</p>

<p>כל שורד מקבל סט אוגרים (רגיסטרים) מלא משלו, שאינו נגיש לשורדים האחרים.
בנוסף, לכל שורד מוגדרת מחסנית "אישית" של 2048 בתים, שגם היא אינה נגישה לשורדים האחרים.</p>

<p>לפני הרצת סיבוב המשחק הראשון, מנוע המשחק מאתחל את כלל הבתים בזירה לבית 0CCh (שימו לב: בית זה מהווה פקודה "בלתי נתמכת" - פרטים בהמשך). לאחר מכן, המנוע טוען כל שורד למיקום אקראי בזיכרון הזירה, ז"א - מעתיק לשם את תוכן קובץ השורד כמו שהוא בדיוק. המרחק בין שני שורדים, וכן המרחק בין השורד לבין קצה הזירה, מובטח להיות לפחות 1024 בתים. גודל השורד המקסימלי המותר הוא 512 בתים.</p>

<p>לפני הסיבוב הראשון, מנוע המשחק מאתחל את האוגרים (של כל שורד) לערכים הבאים:
<ul style="list-style-type: square;">
<li>BX,CX,DX,SI,DI,BP - מאופסים.</li>
<li>דגלים - מאופסים.</li>
<li>AX,IP - מיקום השורד ההתחלתי, ההיסט (offset) האקראי בזירה אליו נטען השורד ע"י מנוע המשחק.</li>
<li>CS,DS - מקטע (segment) הזירה המשותף לכלל השורדים.</li>
<li>ES - מקטע (segment) לזיכרון המשותף לשורדים מאותה קבוצה (ראה <a href="tech4.htm">טכניקות מתקדמות</a>).</li>
<li>SS - מקטע תחילת המחסנית האישית של השורד.</li>
<li>SP - היסט תחילת המחסנית האישית של השורד.</li>
</ul>
</p>

<p>בשלב זה מתחילה התנהלות המשחק בסיבובים, כאשר בכל סיבוב מריץ מנוע המשחק את הפקודה הבאה של כל שורד, עד לסיום המשחק: לאחר 200,000 סיבובים, או כאשר נשאר שורד בודד בזירה. הסדר בו ישחקו השורדים בכל סיבוב נקבע בתחילת המשחק באופן אקראי, ואינו משתנה במהלכו.</p>

<p>
שורד נפסל במקרים הבאים:
<ul style="list-style-type: square;">
<li>הרצת פקודה בלתי חוקית (לדוגמא: הבית 060h שאינו מתרגם לאף פקודת אסמבלי).</li>
<li>הרצת פקודה "בלתי נתמכת" ע"י מנוע המשחק (לדוגמא: "INT 021h").
   מנוע המשחק מונע הרצת פקודות המנסות ליזום תקשורת ישירה מול מערכת ההפעלה או חומרת המחשב.</li>
<li>ניסיון גישה לזיכרון שאינו בתחומי הזירה, ואינו בתחומי המחסנית ה"אישית" של השורד.</li>
</ul>
</p>

<p>תקיפת שורדים אחרים מתבצעת ע"י כתיבת מידע על הקוד שלהם בזיכרון הזירה (במטרה לגרום להם לבצע אחת משלוש הפעולות הנ"ל), ובעקבות כך לפסילתם. קודם לכן, לפיכך, יש למצוא היכן הם מסתתרים :)</p>

<p>לאחר שתצליחו לכתוב שורד משלכם (ולנצח את שורדי הדוגמה?), תוכלו לקרוא על <a href="tech4.htm">הטכניקות המתקדמות במשחק</a>.</p>

<h1>בהצלחה!</h1>

<ul style="width:330px;"></ul>






</div>



<div class="sidebar">
<center>
<img src="bug2.jpg" width="200" height="111"></center>

<h1 class="sidetite">שורדי האקסטרים</h1>
<p class="sidebartext">
 העיפו מבט 
<a href="https://github.com/codeguru-il/corewars8086-survivors" style="text-decoration: none;">בשורדים של התחרויות הקודמות</a>
 לרעיונות מעניינים לאסטרטגיה.
</span>
</div>


</div>



</div>

</body>
</html>
